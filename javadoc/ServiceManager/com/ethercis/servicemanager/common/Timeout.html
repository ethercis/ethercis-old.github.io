<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_05) on Tue Jun 02 15:58:00 ICT 2015 -->
<title>Timeout</title>
<meta name="date" content="2015-06-02">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Timeout";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/ethercis/servicemanager/common/ThreadListerTest.html" title="class in com.ethercis.servicemanager.common"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/ethercis/servicemanager/common/TimeoutTest.html" title="class in com.ethercis.servicemanager.common"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/ethercis/servicemanager/common/Timeout.html" target="_top">Frames</a></li>
<li><a href="Timeout.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.java.lang.Thread">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.ethercis.servicemanager.common</div>
<h2 title="Class Timeout" class="title">Class Timeout</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.lang.Thread</li>
<li>
<ul class="inheritance">
<li>com.ethercis.servicemanager.common.Timeout</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html" title="interface in com.ethercis.servicemanager.common">I_TimeoutManager</a>, java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">Timeout</span>
extends java.lang.Thread
implements <a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html" title="interface in com.ethercis.servicemanager.common">I_TimeoutManager</a></pre>
<div class="block">Allows you be called back after a given delay.
 <p />
 Note that this class should be called Timer, but with JDK 1.3 there will be a
 java.common.Timer.
 <p />
 There is a single background thread that is used to execute the
 I_Timeout.timeout() callback. Timer callbacks should complete quickly. If a
 timeout() takes excessive time to complete, it "hogs" the timer's task
 execution thread. This can, in turn, delay the execution of subsequent tasks,
 which may "bunch up" and execute in rapid succession when (and if) the
 offending task finally completes.
 <p />
 This singleton is thread-safe.
 <p />
 This class does not offer real-time guarantees, but usually notifies you
 within ~ 20 milliseconds of the scheduled time.
 <p />
 Adding or removing a timer is good performing, also when huge amounts of
 timers (> 1000) are used.<br />
 Feeding of 10000: 10362 adds/sec and all updates came in 942 millis (600MHz
 Linux PC with Sun JDK 1.3.1) *
 <p />
 <p />
 Example:<br />
 
 <pre>
  public class MyClass implements I_Timeout {
    ...
    Timeout timeout = new Timeout(&quot;TestTimer&quot;);
    TimeStamp timeoutHandle = timeout.addTimeoutListener(this, 4000L, &quot;myTimeout&quot;);
    ...
    public void timeout(Object userData) {
       // userData contains String &quot;myTimeout&quot;
       System.out.println(&quot;Timeout happened&quot;);
       ...
       // If you want to activate the timer again:
       timeoutHandle = timeout.addTimeoutListener(this, 4000L, &quot;myTimeout&quot;);
    }
    ...
    // if you want to refresh the timer:
    timeoutHandle = timeout.refreshTimeoutListener(timeoutHandle, 1500L);
    ...
  }
 </pre>
 
 Or a short form:
 
 <pre>
 Timeout timeout = new Timeout(&quot;TestTimer&quot;);
 
 TimeStamp timeoutHandle = timeout.addTimeoutListener(new I_Timeout() {
    public void timeout(Object userData) {
       System.out.println(&quot;Timeout happened&quot;);
       System.exit(0);
    }
 }, 2000L, null);
 </pre>
 
 JDK 1.2 or higher only.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;java.lang.Thread</h3>
<code>java.lang.Thread.State, java.lang.Thread.UncaughtExceptionHandler</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;java.lang.Thread</h3>
<code>MAX_PRIORITY, MIN_PRIORITY, NORM_PRIORITY</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#Timeout--">Timeout</a></span>()</code>
<div class="block">Create a timer thread with a strong reference on the callback objects.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#Timeout-java.lang.String-">Timeout</a></span>(java.lang.String&nbsp;name)</code>
<div class="block">Create a timer thread with a strong reference on the callback objects.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#Timeout-java.lang.String-boolean-">Timeout</a></span>(java.lang.String&nbsp;name,
       boolean&nbsp;useWeakReference)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#addOrRefreshTimeoutListener-com.ethercis.servicemanager.common.I_Timeout-long-java.lang.Object-com.ethercis.servicemanager.common.TimeStamp-">addOrRefreshTimeoutListener</a></span>(<a href="../../../../com/ethercis/servicemanager/common/I_Timeout.html" title="interface in com.ethercis.servicemanager.common">I_Timeout</a>&nbsp;listener,
                           long&nbsp;delay,
                           java.lang.Object&nbsp;userData,
                           <a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a>&nbsp;key)</code>
<div class="block">Checks if key is null -> addTimeoutListener else refreshTimeoutListener()
 in a thread save way.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#addTimeoutListener-com.ethercis.servicemanager.common.I_Timeout-long-java.lang.Object-">addTimeoutListener</a></span>(<a href="../../../../com/ethercis/servicemanager/common/I_Timeout.html" title="interface in com.ethercis.servicemanager.common">I_Timeout</a>&nbsp;listener,
                  long&nbsp;delay,
                  java.lang.Object&nbsp;userData)</code>
<div class="block">Add a listener which gets informed after 'delay' milliseconds.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#dumpStatus--">dumpStatus</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#elapsed-com.ethercis.servicemanager.common.TimeStamp-">elapsed</a></span>(<a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a>&nbsp;key)</code>
<div class="block">How long am i running.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>com.ethercis.servicemanager.common.Container[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#getContainers--">getContainers</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#getSize--">getSize</a></span>()</code>
<div class="block">Get number of current used timers.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#getTimeout-com.ethercis.servicemanager.common.TimeStamp-">getTimeout</a></span>(<a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a>&nbsp;key)</code>
<div class="block">Access the end of life span.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#isExpired-com.ethercis.servicemanager.common.TimeStamp-">isExpired</a></span>(<a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a>&nbsp;key)</code>
<div class="block">Is this handle expired?
 <p /></div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#refreshTimeoutListener-com.ethercis.servicemanager.common.TimeStamp-long-">refreshTimeoutListener</a></span>(<a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a>&nbsp;key,
                      long&nbsp;delay)</code>
<div class="block">Refresh a listener before the timeout happened.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#removeAll--">removeAll</a></span>()</code>
<div class="block">Reset all pending timeouts.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#removeTimeoutListener-com.ethercis.servicemanager.common.TimeStamp-">removeTimeoutListener</a></span>(<a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a>&nbsp;key)</code>
<div class="block">Remove a listener before the timeout happened.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#run--">run</a></span>()</code>
<div class="block">Starts the Timeout manager thread.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#shutdown--">shutdown</a></span>()</code>
<div class="block">Reset and stop the Timeout manager thread.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#spanToTimeout-com.ethercis.servicemanager.common.TimeStamp-">spanToTimeout</a></span>(<a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a>&nbsp;key)</code>
<div class="block">How long to my timeout.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/ethercis/servicemanager/common/Timeout.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Thread">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Thread</h3>
<code>activeCount, checkAccess, countStackFrames, currentThread, destroy, dumpStack, enumerate, getAllStackTraces, getContextClassLoader, getDefaultUncaughtExceptionHandler, getId, getName, getPriority, getStackTrace, getState, getThreadGroup, getUncaughtExceptionHandler, holdsLock, interrupt, interrupted, isAlive, isDaemon, isInterrupted, join, join, join, resume, setContextClassLoader, setDaemon, setDefaultUncaughtExceptionHandler, setName, setPriority, setUncaughtExceptionHandler, sleep, sleep, start, stop, stop, suspend, yield</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Timeout--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Timeout</h4>
<pre>public&nbsp;Timeout()</pre>
<div class="block">Create a timer thread with a strong reference on the callback objects.</div>
</li>
</ul>
<a name="Timeout-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Timeout</h4>
<pre>public&nbsp;Timeout(java.lang.String&nbsp;name)</pre>
<div class="block">Create a timer thread with a strong reference on the callback objects.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The name of the thread</dd>
</dl>
</li>
</ul>
<a name="Timeout-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Timeout</h4>
<pre>public&nbsp;Timeout(java.lang.String&nbsp;name,
               boolean&nbsp;useWeakReference)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The name of the thread</dd>
<dd><code>useWeakReference</code> - If true the reference on your I_Timeout implementation is only
           weak referenced and may be garbage collected even that we hold a
           weak reference.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSize</h4>
<pre>public&nbsp;int&nbsp;getSize()</pre>
<div class="block">Get number of current used timers.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html#getSize--">getSize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html" title="interface in com.ethercis.servicemanager.common">I_TimeoutManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of active timers</dd>
</dl>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Thread</code></dd>
</dl>
</li>
</ul>
<a name="dumpStatus--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dumpStatus</h4>
<pre>public&nbsp;java.lang.String&nbsp;dumpStatus()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html#dumpStatus--">dumpStatus</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html" title="interface in com.ethercis.servicemanager.common">I_TimeoutManager</a></code></dd>
</dl>
</li>
</ul>
<a name="getContainers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContainers</h4>
<pre>public&nbsp;com.ethercis.servicemanager.common.Container[]&nbsp;getContainers()</pre>
</li>
</ul>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">Starts the Timeout manager thread.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>run</code>&nbsp;in class&nbsp;<code>java.lang.Thread</code></dd>
</dl>
</li>
</ul>
<a name="addTimeoutListener-com.ethercis.servicemanager.common.I_Timeout-long-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addTimeoutListener</h4>
<pre>public final&nbsp;<a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a>&nbsp;addTimeoutListener(<a href="../../../../com/ethercis/servicemanager/common/I_Timeout.html" title="interface in com.ethercis.servicemanager.common">I_Timeout</a>&nbsp;listener,
                                          long&nbsp;delay,
                                          java.lang.Object&nbsp;userData)</pre>
<div class="block">Add a listener which gets informed after 'delay' milliseconds.
 <p />
 After the timeout happened, you are not registered any more. If you want
 to cycle timeouts, you need to register again.
 <p /></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html#addTimeoutListener-com.ethercis.servicemanager.common.I_Timeout-long-java.lang.Object-">addTimeoutListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html" title="interface in com.ethercis.servicemanager.common">I_TimeoutManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - Your callback handle (you need to implement this interface).</dd>
<dd><code>delay</code> - The timeout in milliseconds. You can pass 0L and the Timeout
           thread will fire immediately, this can be useful to dispatch a
           task to the timeoutlistener</dd>
<dd><code>userData</code> - Some arbitrary data you supply, it will be routed back to you
           when the timeout occurs through method I_Timeout.timeout().</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A handle which you can use to unregister with
         removeTimeoutListener().</dd>
</dl>
</li>
</ul>
<a name="refreshTimeoutListener-com.ethercis.servicemanager.common.TimeStamp-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refreshTimeoutListener</h4>
<pre>public final&nbsp;<a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a>&nbsp;refreshTimeoutListener(<a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a>&nbsp;key,
                                              long&nbsp;delay)
                                       throws <a href="../../../../com/ethercis/servicemanager/exceptions/ServiceManagerException.html" title="class in com.ethercis.servicemanager.exceptions">ServiceManagerException</a></pre>
<div class="block">Refresh a listener before the timeout happened.
 <p />
 NOTE: The returned timeout handle is different from the original one.
 <p />
 
 NOTE: If you are not sure if the key has elapsed already try this:
 
 <pre>
 timeout.removeTimeoutListener(timeoutHandle);
 timeoutHandle = timeout.addTimeoutListener(this, &quot;1000L&quot;, &quot;UserData&quot;);
 </pre></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html#refreshTimeoutListener-com.ethercis.servicemanager.common.TimeStamp-long-">refreshTimeoutListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html" title="interface in com.ethercis.servicemanager.common">I_TimeoutManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The timeout handle you received by a previous
           addTimeoutListener() call.<br />
           It is invalid after this call.</dd>
<dd><code>delay</code> - The timeout in milliseconds measured from now.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A new handle which you can use to unregister with
         removeTimeoutListener()</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/ethercis/servicemanager/exceptions/ServiceManagerException.html" title="class in com.ethercis.servicemanager.exceptions">ServiceManagerException</a></code> - if key is null or unknown or invalid because timer elapsed
               already</dd>
</dl>
</li>
</ul>
<a name="addOrRefreshTimeoutListener-com.ethercis.servicemanager.common.I_Timeout-long-java.lang.Object-com.ethercis.servicemanager.common.TimeStamp-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addOrRefreshTimeoutListener</h4>
<pre>public final&nbsp;<a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a>&nbsp;addOrRefreshTimeoutListener(<a href="../../../../com/ethercis/servicemanager/common/I_Timeout.html" title="interface in com.ethercis.servicemanager.common">I_Timeout</a>&nbsp;listener,
                                                   long&nbsp;delay,
                                                   java.lang.Object&nbsp;userData,
                                                   <a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a>&nbsp;key)
                                            throws <a href="../../../../com/ethercis/servicemanager/exceptions/ServiceManagerException.html" title="class in com.ethercis.servicemanager.exceptions">ServiceManagerException</a></pre>
<div class="block">Checks if key is null -> addTimeoutListener else refreshTimeoutListener()
 in a thread save way. <br />
 Note however that your passed key is different from the returned key and
 you need to synchronize this call to avoid having a stale key (two threads
 enter this method the same time, the key gets invalid by the first thread
 and the second passed a stale key logonservice the first thread has not yet returned
 to update 'key')</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html#addOrRefreshTimeoutListener-com.ethercis.servicemanager.common.I_Timeout-long-java.lang.Object-com.ethercis.servicemanager.common.TimeStamp-">addOrRefreshTimeoutListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html" title="interface in com.ethercis.servicemanager.common">I_TimeoutManager</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/ethercis/servicemanager/exceptions/ServiceManagerException.html" title="class in com.ethercis.servicemanager.exceptions">ServiceManagerException</a></code></dd>
</dl>
</li>
</ul>
<a name="removeTimeoutListener-com.ethercis.servicemanager.common.TimeStamp-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeTimeoutListener</h4>
<pre>public final&nbsp;void&nbsp;removeTimeoutListener(<a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a>&nbsp;key)</pre>
<div class="block">Remove a listener before the timeout happened.
 <p /></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html#removeTimeoutListener-com.ethercis.servicemanager.common.TimeStamp-">removeTimeoutListener</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html" title="interface in com.ethercis.servicemanager.common">I_TimeoutManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The timeout handle you received by a previous
           addTimeoutListener() call.</dd>
</dl>
</li>
</ul>
<a name="isExpired-com.ethercis.servicemanager.common.TimeStamp-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isExpired</h4>
<pre>public final&nbsp;boolean&nbsp;isExpired(<a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a>&nbsp;key)</pre>
<div class="block">Is this handle expired?
 <p /></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html#isExpired-com.ethercis.servicemanager.common.TimeStamp-">isExpired</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html" title="interface in com.ethercis.servicemanager.common">I_TimeoutManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The timeout handle you received by a previous
           addTimeoutListener() call<br /></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true/false</dd>
</dl>
</li>
</ul>
<a name="spanToTimeout-com.ethercis.servicemanager.common.TimeStamp-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>spanToTimeout</h4>
<pre>public final&nbsp;long&nbsp;spanToTimeout(<a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a>&nbsp;key)</pre>
<div class="block">How long to my timeout.
 <p /></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html#spanToTimeout-com.ethercis.servicemanager.common.TimeStamp-">spanToTimeout</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html" title="interface in com.ethercis.servicemanager.common">I_TimeoutManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The timeout handle you received by a previous
           addTimeoutListener() call.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Milliseconds to timeout, or -1 if not known.</dd>
</dl>
</li>
</ul>
<a name="elapsed-com.ethercis.servicemanager.common.TimeStamp-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>elapsed</h4>
<pre>public final&nbsp;long&nbsp;elapsed(<a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a>&nbsp;key)</pre>
<div class="block">How long am i running.
 <p /></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html#elapsed-com.ethercis.servicemanager.common.TimeStamp-">elapsed</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html" title="interface in com.ethercis.servicemanager.common">I_TimeoutManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The timeout handle you received by a previous
           addTimeoutListener() call.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Milliseconds since creation, or -1 if not known.</dd>
</dl>
</li>
</ul>
<a name="getTimeout-com.ethercis.servicemanager.common.TimeStamp-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTimeout</h4>
<pre>public final&nbsp;long&nbsp;getTimeout(<a href="../../../../com/ethercis/servicemanager/common/TimeStamp.html" title="class in com.ethercis.servicemanager.common">TimeStamp</a>&nbsp;key)</pre>
<div class="block">Access the end of life span.
 <p /></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html#getTimeout-com.ethercis.servicemanager.common.TimeStamp-">getTimeout</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html" title="interface in com.ethercis.servicemanager.common">I_TimeoutManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The timeout handle you received by a previous
           addTimeoutListener() call.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Time in milliseconds since midnight, January 1, 1970 UTC or -1 if
         not known.</dd>
</dl>
</li>
</ul>
<a name="removeAll--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeAll</h4>
<pre>public final&nbsp;void&nbsp;removeAll()</pre>
<div class="block">Reset all pending timeouts.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html#removeAll--">removeAll</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html" title="interface in com.ethercis.servicemanager.common">I_TimeoutManager</a></code></dd>
</dl>
</li>
</ul>
<a name="shutdown--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown()</pre>
<div class="block">Reset and stop the Timeout manager thread.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html#shutdown--">shutdown</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/ethercis/servicemanager/common/I_TimeoutManager.html" title="interface in com.ethercis.servicemanager.common">I_TimeoutManager</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/ethercis/servicemanager/common/ThreadListerTest.html" title="class in com.ethercis.servicemanager.common"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/ethercis/servicemanager/common/TimeoutTest.html" title="class in com.ethercis.servicemanager.common"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/ethercis/servicemanager/common/Timeout.html" target="_top">Frames</a></li>
<li><a href="Timeout.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.java.lang.Thread">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#fields.inherited.from.class.java.lang.Thread">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
